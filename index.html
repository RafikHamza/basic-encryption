<script src="js/storage.js"></script>
<script src="js/caesar.js"></script>
<script src="js/xor.js"></script>
<script src="js/vigenere.js"></script>
<script src="js/quiz.js"></script>
<script src="js/navigation.js"></script>
<script src="js/leaderboard.js"></script>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Learn Encryption Basics</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- User Registration Modal -->
  <div id="user-modal" class="modal">
    <div class="modal-content">
      <h2>Welcome to the Introduction to Digital Privacy and Data Security Course!</h2>
      <p>Enter your name to join our leaderboard:</p>
      <input type="text" id="username-input" placeholder="Your nickname...">
      <button id="start-btn">Start Learning</button>
    </div>
  </div>

  <header>
    <h1>Basic Encryption Tools</h1>
    <nav>
      <ul>
        <li><a href="#" class="nav-link active" data-section="learn">Learn</a></li>
        <li><a href="#" class="nav-link" data-section="practice">Practice</a></li>
        <li><a href="#" class="nav-link" data-section="quiz">Quiz</a></li>
        <li><a href="#" class="nav-link" data-section="leaderboard">Leaderboard</a></li>
      </ul>
    </nav>
    <div class="user-display">
      <span id="current-user">Guest</span>
      <span id="user-score">Score: 0</span>
    </div>
  </header>

  <main>
  <section id="learn-section" class="active-section">
    <h2>Encoding and Encryption Fundamentals</h2>
    
    <div class="intro-container">
      <h3>Understanding the Basics</h3>
      <p>Before diving into encryption, it's important to understand the difference between encoding and encryption:</p>
      
      <div class="definition-box">
        <h4>Encoding vs. Encryption</h4>
        <p><strong>Encoding:</strong> A process of converting data from one format to another without any secret key. Anyone who knows the encoding scheme can decode the information. Examples include Base64, ASCII, and UTF-8.</p>
        <p><strong>Encryption:</strong> A process that uses algorithms and keys to convert readable data (plaintext) into an unreadable format (ciphertext). Only those with the correct key can decrypt the information back to plaintext.</p>
      </div>
    </div>
  
    <div class="algo-container">
      <h3>Common Encoding Methods</h3>
      
      <div class="encoding-box">
        <h4>ASCII Encoding</h4>
        <p>American Standard Code for Information Interchange (ASCII) maps characters to numerical values.</p>
        <div class="example-box">
          <p>Example: The letter 'A' is represented as the decimal value 65 (binary 01000001)</p>
          <table class="encoding-table">
            <tr>
              <th>Character</th>
              <th>ASCII (Decimal)</th>
              <th>Binary</th>
            </tr>
            <tr>
              <td>A</td>
              <td>65</td>
              <td>01000001</td>
            </tr>
            <tr>
              <td>B</td>
              <td>66</td>
              <td>01000010</td>
            </tr>
            <tr>
              <td>C</td>
              <td>67</td>
              <td>01000011</td>
            </tr>
          </table>
        </div>
      </div>
      
      <div class="encoding-box">
        <h4>Base64 Encoding</h4>
        <p>A binary-to-text encoding scheme that represents binary data in an ASCII string format.</p>
        <div class="example-box">
          <p>Example: The text "Hello" in Base64 is "SGVsbG8="</p>
          <p>Base64 is often used for transmitting binary data through text-based systems.</p>
        </div>
      </div>
    </div>
    
    <div class="encryption-title">
      <h3>Encryption Algorithms</h3>
      <p>Let's explore three fundamental encryption methods that form the basis of modern cryptography.</p>
    </div>
    
    <div class="algo-container">
      <h3>Caesar Cipher</h3>
      <div class="definition-box">
        <p>A substitution cipher where each letter is shifted a fixed number of positions in the alphabet. It's named after Julius Caesar, who used it to communicate with his generals.</p>
        <p><strong>Security Level:</strong> Very low (easily broken)</p>
        <p><strong>Key:</strong> A single number representing the shift value (1-25)</p>
      </div>
      
      <div class="example-box">
        <h4>How It Works:</h4>
        <p>With a shift of 3:</p>
        <ul>
          <li>A → D</li>
          <li>B → E</li>
          <li>C → F</li>
          <li>...</li>
          <li>Z → C</li>
        </ul>
        
        <h4>Example:</h4>
        <p>Plaintext: <strong>HELLO</strong>, Key: <strong>3</strong></p>
        <p>H (shift 3) → K</p>
        <p>E (shift 3) → H</p>
        <p>L (shift 3) → O</p>
        <p>L (shift 3) → O</p>
        <p>O (shift 3) → R</p>
        <p>Ciphertext: <strong>KHOOR</strong></p>
        
        <div class="visual-aid">
          <p>Visual Representation of Shifting:</p>
          <div class="alphabet-wheel">
            <div class="plaintext-row">
              A B C D E F G H I J K L M N O P Q R S T U V W X Y Z
            </div>
            <div class="ciphertext-row">
              D E F G H I J K L M N O P Q R S T U V W X Y Z A B C
            </div>
          </div>
        </div>
      </div>
      
      <div class="weakness-box">
        <h4>Vulnerabilities:</h4>
        <p>The Caesar cipher can be broken by:</p>
        <ul>
          <li>Brute force - trying all 25 possible shifts</li>
          <li>Frequency analysis - analyzing patterns of letter occurrences</li>
        </ul>
      </div>
    </div>
    
    <div class="algo-container">
      <h3>XOR Cipher</h3>
      <div class="definition-box">
        <p>A cipher that applies the XOR (exclusive OR) logical operation between plaintext bits and key bits. XOR is a binary operation that outputs true only when inputs differ.</p>
        <p><strong>Security Level:</strong> Medium (when used with proper key management)</p>
        <p><strong>Key:</strong> A binary sequence (often represented as text)</p>
      </div>
      
      <div class="example-box">
        <h4>How It Works:</h4>
        <p>XOR Truth Table:</p>
        <table class="xor-table">
          <tr>
            <th>A</th>
            <th>B</th>
            <th>A XOR B</th>
          </tr>
          <tr>
            <td>0</td>
            <td>0</td>
            <td>0</td>
          </tr>
          <tr>
            <td>0</td>
            <td>1</td>
            <td>1</td>
          </tr>
          <tr>
            <td>1</td>
            <td>0</td>
            <td>1</td>
          </tr>
          <tr>
            <td>1</td>
            <td>1</td>
            <td>0</td>
          </tr>
        </table>
        
        <h4>Example:</h4>
        <p>Plaintext: <strong>ABC</strong>, Key: <strong>KEY</strong></p>
        <p>Step 1: Convert to ASCII numbers</p>
        <pre>
  A = 65, K = 75
  B = 66, E = 69
  C = 67, Y = 89
        </pre>
        <p>Step 2: Convert to binary and XOR</p>
        <pre>
  A (65): 01000001
  K (75): 01001011
  XOR:    00001010 → Value 10 (control character)
  
  B (66): 01000010
  E (69): 01000101
  XOR:    00000111 → Value 7 (control character)
  
  C (67): 01000011
  Y (89): 01011001
  XOR:    00011010 → Value 26 (control character)
        </pre>
      </div>
      
      <div class="security-note">
        <h4>Important Security Note:</h4>
        <p>XOR cipher with a repeating key (like a single word) is vulnerable to frequency analysis. For proper security, the key should be:</p>
        <ul>
          <li>As long as the plaintext (one-time pad)</li>
          <li>Truly random</li>
          <li>Used only once</li>
        </ul>
      </div>
    </div>
    
    <div class="algo-container">
      <h3>Vigenère Cipher</h3>
      <div class="definition-box">
        <p>A polyalphabetic substitution cipher that uses a series of Caesar ciphers with different shift values determined by a keyword. It was considered unbreakable for centuries.</p>
        <p><strong>Security Level:</strong> Low-Medium (stronger than Caesar but still vulnerable)</p>
        <p><strong>Key:</strong> A word or phrase that determines the shift pattern</p>
      </div>
      
      <div class="example-box">
        <h4>How It Works:</h4>
        <p>1. Repeat the keyword to match the length of the plaintext</p>
        <p>2. For each letter in the plaintext:</p>
        <ul>
          <li>Find the corresponding letter in the key</li>
          <li>Use the position value of the key letter (A=0, B=1, etc.) as the shift amount</li>
          <li>Apply a Caesar shift with that amount</li>
        </ul>
        
        <h4>Example:</h4>
        <p>Plaintext: <strong>HELLO</strong>, Key: <strong>KEY</strong></p>
        <p>Step 1: Repeat key to match plaintext length</p>
        <pre>
  Plaintext: H E L L O
  Key:       K E Y K E
        </pre>
        <p>Step 2: Apply shifts based on key letter positions</p>
        <pre>
  K = position 10 (shift 10)
  E = position 4 (shift 4)
  Y = position 24 (shift 24)
  K = position 10 (shift 10)
  E = position 4 (shift 4)
        </pre>
        <p>Step 3: Apply the shifts</p>
        <pre>
  H + shift 10 = R
  E + shift 4 = I
  L + shift 24 = J
  L + shift 10 = V
  O + shift 4 = S
        </pre>
        <p>Ciphertext: <strong>RIJVS</strong></p>
      </div>
      
      <div class="visual-aid">
        <h4>Vigenère Table:</h4>
        <p>A Vigenère table or square is a tool used to encrypt and decrypt messages with the Vigenère cipher:</p>
        <img src="/api/placeholder/400/320" alt="Vigenère Table Placeholder">
        <p>To encrypt: Find the row labeled with the plaintext letter, then the column labeled with the key letter. The intersection gives the ciphertext letter.</p>
      </div>
      
      <div class="weakness-box">
        <h4>Vulnerabilities:</h4>
        <p>The Vigenère cipher can be broken through:</p>
        <ul>
          <li>Kasiski examination - finding repeated sequences in the ciphertext</li>
          <li>Determining the key length and applying frequency analysis</li>
        </ul>
      </div>
    </div>
  
    <div class="resources-container">
      <h3>What's Next?</h3>
      <p>Now that you understand the basics, you can:</p>
      <ul>
        <li>Practice encrypting and decrypting messages in the Practice section</li>
        <li>Test your knowledge with our interactive Quiz</li>
        <li>Explore more advanced encryption concepts like symmetric vs. asymmetric encryption</li>
      </ul>
      <p>Remember: These historical ciphers are fundamental to understanding modern cryptography, but they are not secure for sensitive information in today's digital world.</p>
    </div>
  </section>

    <section id="practice-section">
      <h2>Practice Encryption</h2>
      
      <div class="practice-intro">
        <p>Apply what you've learned by encrypting and decrypting messages using different algorithms. Follow the guided examples or create your own!</p>
      </div>
    
      <!-- Interactive Practice Tool -->
      <div class="panel" id="cipher-panel">
        <select id="algo-select">
          <option value="caesar">Caesar Cipher</option>
          <option value="xor">XOR Cipher</option>
          <option value="vigenere">Vigenère Cipher</option>
        </select>
        <div id="algorithm-description"></div>
        <textarea id="plaintext" placeholder="Enter text to encrypt..."></textarea>
        <input id="key-input" placeholder="Enter key...">
        <div class="button-group">
          <button id="encrypt-btn">Encrypt</button>
          <button id="decrypt-btn">Decrypt</button>
        </div>
        <textarea id="ciphertext" readonly placeholder="Result will appear here..."></textarea>
        <button id="save-btn">Save to History</button>
      </div>
    
      <!-- Guided Practices Section -->
      <div class="guided-practices">
        <h3>Guided Practice Examples</h3>
        <p>Try these examples to better understand each encryption method.</p>
        
        <!-- Caesar Cipher Examples -->
        <div class="practice-set">
          <h4>Caesar Cipher Examples</h4>
          <div class="accordion">
            <div class="accordion-item">
              <div class="accordion-header">Example 1: Basic Shift</div>
              <div class="accordion-content">
                <p><strong>Task:</strong> Encrypt "HELLO" with a shift of 3</p>
                <p><strong>Solution:</strong></p>
                <ol>
                  <li>For each letter, shift 3 positions in the alphabet</li>
                  <li>H → I → J → K (shift 3)</li>
                  <li>E → F → G → H (shift 3)</li>
                  <li>L → M → N → O (shift 3)</li>
                  <li>L → M → N → O (shift 3)</li>
                  <li>O → P → Q → R (shift 3)</li>
                </ol>
                <p><strong>Result:</strong> "KHOOR"</p>
                <button class="try-it-btn" data-algo="caesar" data-text="HELLO" data-key="3">Try it yourself</button>
              </div>
            </div>
            
            <div class="accordion-item">
              <div class="accordion-header">Example 2: Decryption</div>
              <div class="accordion-content">
                <p><strong>Task:</strong> Decrypt "DWWDFN DW GDZQ" with a shift of 3</p>
                <p><strong>Solution:</strong></p>
                <ol>
                  <li>For each letter, shift backwards 3 positions</li>
                  <li>D → C → B → A (shift -3)</li>
                  <li>W → V → U → T (shift -3)</li>
                  <li>And so on...</li>
                </ol>
                <p><strong>Result:</strong> "ATTACK AT DAWN"</p>
                <button class="try-it-btn" data-algo="caesar" data-text="DWWDFN DW GDZQ" data-key="3" data-decrypt="true">Try it yourself</button>
              </div>
            </div>
            
            <div class="accordion-item">
              <div class="accordion-header">Example 3: Larger Shift</div>
              <div class="accordion-content">
                <p><strong>Task:</strong> Encrypt "ZEBRA" with a shift of 23</p>
                <p><strong>Solution:</strong></p>
                <ol>
                  <li>Z + 23 = ? (Need to wrap around the alphabet)</li>
                  <li>Z → A → B → ... → W (shift 23)</li>
                  <li>E + 23 = X (shift 23)</li>
                  <li>B + 23 = U (shift 23)</li>
                  <li>R + 23 = O (shift 23)</li>
                  <li>A + 23 = X (shift 23)</li>
                </ol>
                <p><strong>Result:</strong> "WXUOX"</p>
                <button class="try-it-btn" data-algo="caesar" data-text="ZEBRA" data-key="23">Try it yourself</button>
              </div>
            </div>
            
            <div class="accordion-item">
              <div class="accordion-header">Example 4: With Numbers and Spaces</div>
              <div class="accordion-content">
                <p><strong>Task:</strong> Encrypt "MEET ME AT 5PM" with a shift of 7</p>
                <p><strong>Solution:</strong></p>
                <ol>
                  <li>Letters shift 7 positions</li>
                  <li>Numbers and spaces typically remain unchanged</li>
                  <li>M + 7 = T</li>
                  <li>E + 7 = L</li>
                  <li>And so on...</li>
                </ol>
                <p><strong>Result:</strong> "TLLA TL HA 5WT"</p>
                <button class="try-it-btn" data-algo="caesar" data-text="MEET ME AT 5PM" data-key="7">Try it yourself</button>
              </div>
            </div>
            
            <div class="accordion-item">
              <div class="accordion-header">Example 5: Breaking Caesar Cipher</div>
              <div class="accordion-content">
                <p><strong>Task:</strong> Decrypt "YMNX NX F XJHWJY" without knowing the key</p>
                <p><strong>Solution:</strong></p>
                <ol>
                  <li>Try all possible shifts (1-25) until you find readable text</li>
                  <li>Shift 1: "XLMW MW E WIGVIX"</li>
                  <li>Shift 2: "WKLV LV D VHFUHW"</li>
                  <li>...</li>
                  <li>Shift 5: "THIS IS A SECRET" (readable!)</li>
                </ol>
                <p><strong>Result:</strong> The key is 5 and the message is "THIS IS A SECRET"</p>
                <div class="brute-force-demo">
                  <select id="bf-shifts">
                    <option value="1">Shift 1</option>
                    <option value="2">Shift 2</option>
                    <option value="3">Shift 3</option>
                    <option value="4">Shift 4</option>
                    <option value="5">Shift 5</option>
                    <!-- Add more options as needed -->
                  </select>
                  <div id="bf-result">Result will appear here</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- XOR Cipher Examples -->
        <div class="practice-set">
          <h4>XOR Cipher Examples</h4>
          <div class="accordion">
            <div class="accordion-item">
              <div class="accordion-header">Example 1: Single Character</div>
              <div class="accordion-content">
                <p><strong>Task:</strong> Encrypt the letter "A" with key "K" using XOR</p>
                <p><strong>Solution:</strong></p>
                <ol>
                  <li>Convert to ASCII: A = 65, K = 75</li>
                  <li>Convert to binary:
                    <ul>
                      <li>A = 01000001</li>
                      <li>K = 01001011</li>
                    </ul>
                  </li>
                  <li>Perform XOR operation bit by bit:
                    <pre>
      01000001 (A)
    ⊕ 01001011 (K)
      --------
      00001010 (result)</pre>
                  </li>
                  <li>Convert result back: 00001010 = 10 in decimal (control character)</li>
                </ol>
                <p><strong>Result:</strong> ASCII 10 (Line Feed character)</p>
                <button class="try-it-btn" data-algo="xor" data-text="A" data-key="K">Try it yourself</button>
              </div>
            </div>
            
            <div class="accordion-item">
              <div class="accordion-header">Example 2: Short Text</div>
              <div class="accordion-content">
                <p><strong>Task:</strong> Encrypt "HELLO" with key "KEY" using XOR</p>
                <p><strong>Solution:</strong></p>
                <ol>
                  <li>The key "KEY" is shorter than the plaintext, so it repeats: "KEYKE"</li>
                  <li>XOR each character pair:
                    <pre>
    H (72) ⊕ K (75) = 19
    E (69) ⊕ E (69) = 0
    L (76) ⊕ Y (89) = 21
    L (76) ⊕ K (75) = 3
    O (79) ⊕ E (69) = 10</pre>
                  </li>
                </ol>
                <p><strong>Result:</strong> A mixture of ASCII values 19, 0, 21, 3, 10 (mostly control characters)</p>
                <button class="try-it-btn" data-algo="xor" data-text="HELLO" data-key="KEY">Try it yourself</button>
              </div>
            </div>
            
            <div class="accordion-item">
              <div class="accordion-header">Example 3: XOR Decryption</div>
              <div class="accordion-content">
                <p><strong>Task:</strong> Decrypt the result of the previous example using the same key "KEY"</p>
                <p><strong>Solution:</strong></p>
                <ol>
                  <li>XOR is its own inverse. Applying the same key twice returns to the original value</li>
                  <li>For each encrypted byte, XOR with the corresponding key byte:
                    <pre>
    19 ⊕ K (75) = 72 (H)
    0 ⊕ E (69) = 69 (E)
    21 ⊕ Y (89) = 76 (L)
    3 ⊕ K (75) = 76 (L)
    10 ⊕ E (69) = 79 (O)</pre>
                  </li>
                </ol>
                <p><strong>Result:</strong> "HELLO" (original message recovered)</p>
                <button class="try-it-btn" data-algo="xor" data-text="[encrypted bytes]" data-key="KEY" data-decrypt="true">Try it yourself</button>
              </div>
            </div>
            
            <div class="accordion-item">
              <div class="accordion-header">Example 4: One-Time Pad</div>
              <div class="accordion-content">
                <p><strong>Task:</strong> Encrypt "ATTACK" with a true one-time pad "RANDOM"</p>
                <p><strong>Solution:</strong></p>
                <ol>
                  <li>XOR each character with the corresponding key character:
                    <pre>
    A (65) ⊕ R (82) = 19
    T (84) ⊕ A (65) = 21
    T (84) ⊕ N (78) = 14
    A (65) ⊕ D (68) = 5
    C (67) ⊕ O (79) = 12
    K (75) ⊕ M (77) = 6</pre>
                  </li>
                  <li>The resulting numbers represent control characters</li>
                </ol>
                <p><strong>Note:</strong> A true one-time pad must use a completely random key of the same length as the plaintext and should never be reused.</p>
                <button class="try-it-btn" data-algo="xor" data-text="ATTACK" data-key="RANDOM">Try it yourself</button>
              </div>
            </div>
            
            <div class="accordion-item">
              <div class="accordion-header">Example 5: XOR with Binary Data</div>
              <div class="accordion-content">
                <p><strong>Task:</strong> Manually encrypt binary sequence 10101010 with key 11001100</p>
                <p><strong>Solution:</strong></p>
                <pre>
      10101010 (data)
    ⊕ 11001100 (key)
      --------
      01100110 (result)</pre>
                <p><strong>Result:</strong> 01100110 (binary) = 102 (decimal) = "f" (ASCII)</p>
                <div class="binary-calculator">
                  <div class="binary-row">
                    <span class="bin-bit">1</span>
                    <span class="bin-bit">0</span>
                    <span class="bin-bit">1</span>
                    <span class="bin-bit">0</span>
                    <span class="bin-bit">1</span>
                    <span class="bin-bit">0</span>
                    <span class="bin-bit">1</span>
                    <span class="bin-bit">0</span>
                  </div>
                  <div class="binary-operator">⊕</div>
                  <div class="binary-row">
                    <span class="bin-bit">1</span>
                    <span class="bin-bit">1</span>
                    <span class="bin-bit">0</span>
                    <span class="bin-bit">0</span>
                    <span class="bin-bit">1</span>
                    <span class="bin-bit">1</span>
                    <span class="bin-bit">0</span>
                    <span class="bin-bit">0</span>
                  </div>
                  <div class="binary-result">
                    <span class="bin-bit result">0</span>
                    <span class="bin-bit result">1</span>
                    <span class="bin-bit result">1</span>
                    <span class="bin-bit result">0</span>
                    <span class="bin-bit result">0</span>
                    <span class="bin-bit result">1</span>
                    <span class="bin-bit result">1</span>
                    <span class="bin-bit result">0</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Vigenère Cipher Examples -->
        <div class="practice-set">
          <h4>Vigenère Cipher Examples</h4>
          <div class="accordion">
            <div class="accordion-item">
              <div class="accordion-header">Example 1: Basic Encryption</div>
              <div class="accordion-content">
                <p><strong>Task:</strong> Encrypt "HELLO" with key "KEY" using Vigenère cipher</p>
                <p><strong>Solution:</strong></p>
                <ol>
                  <li>Repeat the key to match plaintext length: "KEYKE"</li>
                  <li>Convert key letters to shift values: K=10, E=4, Y=24, K=10, E=4</li>
                  <li>Apply shifts to each plaintext letter:
                    <pre>
    H + 10 = R
    E + 4 = I
    L + 24 = J (wrapping around the alphabet)
    L + 10 = V
    O + 4 = S</pre>
                  </li>
                </ol>
                <p><strong>Result:</strong> "RIJVS"</p>
                <button class="try-it-btn" data-algo="vigenere" data-text="HELLO" data-key="KEY">Try it yourself</button>
              </div>
            </div>
            
            <div class="accordion-item">
              <div class="accordion-header">Example 2: Decryption</div>
              <div class="accordion-content">
                <p><strong>Task:</strong> Decrypt "RIJVS" with key "KEY"</p>
                <p><strong>Solution:</strong></p>
                <ol>
                  <li>Repeat the key to match ciphertext length: "KEYKE"</li>
                  <li>Convert key letters to shift values: K=10, E=4, Y=24, K=10, E=4</li>
                  <li>Apply reverse shifts to each ciphertext letter:
                    <pre>
    R - 10 = H
    I - 4 = E
    J - 24 = L (wrapping around the alphabet)
    V - 10 = L
    S - 4 = O</pre>
                  </li>
                </ol>
                <p><strong>Result:</strong> "HELLO"</p>
                <button class="try-it-btn" data-algo="vigenere" data-text="RIJVS" data-key="KEY" data-decrypt="true">Try it yourself</button>
              </div>
            </div>
            
            <div class="accordion-item">
              <div class="accordion-header">Example 3: Longer Message</div>
              <div class="accordion-content">
                <p><strong>Task:</strong> Encrypt "MEETMEATMIDNIGHT" with key "MOON"</p>
                <p><strong>Solution:</strong></p>
                <ol>
                  <li>Repeat the key: "MOONMOONMOONMOON"</li>
                  <li>Convert key letters to shift values: M=12, O=14, O=14, N=13</li>
                  <li>Apply shifts:
                    <pre>
    M + 12 = Y
    E + 14 = S
    E + 14 = S
    T + 13 = G
    M + 12 = Y
    E + 14 = S
    A + 14 = O
    T + 13 = G
    M + 12 = Y
    I + 14 = W
    D + 14 = R
    N + 13 = A
    I + 12 = U
    G + 14 = U
    H + 14 = V
    T + 13 = G</pre>
                  </li>
                </ol>
                <p><strong>Result:</strong> "YSSGYSOGYWAUVVG"</p>
                <button class="try-it-btn" data-algo="vigenere" data-text="MEETMEATMIDNIGHT" data-key="MOON">Try it yourself</button>
              </div>
            </div>
            
            <div class="accordion-item">
              <div class="accordion-header">Example 4: With Spaces and Punctuation</div>
              <div class="accordion-content">
                <p><strong>Task:</strong> Encrypt "KEEP IT SECRET!" with key "CIPHER"</p>
                <p><strong>Solution:</strong></p>
                <ol>
                  <li>Typically, spaces and punctuation remain unchanged</li>
                  <li>Apply the key only to letters:
                    <pre>
    K + C(2) = M
    E + I(8) = M
    E + P(15) = T
    P + H(7) = W
    (space remains space)
    I + E(4) = M
    T + R(17) = K
    (space remains space)
    S + C(2) = U
    E + I(8) = M
    C + P(15) = R
    R + H(7) = Y
    E + E(4) = I
    T + R(17) = K
    ! remains !</pre>
                  </li>
                </ol>
                <p><strong>Result:</strong> "MMTW MK UMRYIK!"</p>
                <button class="try-it-btn" data-algo="vigenere" data-text="KEEP IT SECRET!" data-key="CIPHER">Try it yourself</button>
              </div>
            </div>
            
            <div class="accordion-item">
              <div class="accordion-header">Example 5: Using the Vigenère Table</div>
              <div class="accordion-content">
                <p><strong>Task:</strong> Encrypt "DEFEND" with key "BAC" using the Vigenère table</p>
                <p><strong>Solution:</strong></p>
                <ol>
                  <li>Extend the key to match plaintext: "BACBA"</li>
                  <li>For each pair of letters, find intersection in the Vigenère table:
                    <ul>
                      <li>D (row) + B (column) = E</li>
                      <li>E (row) + A (column) = E</li>
                      <li>F (row) + C (column) = H</li>
                      <li>E (row) + B (column) = F</li>
                      <li>N (row) + A (column) = N</li>
                      <li>D (row) + B (column) = E</li>
                    </ul>
                  </li>
                </ol>
                <p><strong>Result:</strong> "EEHFNE"</p>
                <div class="vigenere-table-demo">
                  <div class="vigenere-row">
                    <div class="row-header">D</div>
                    <div class="table-cell">D</div>
                    <div class="table-cell">E</div>
                    <div class="table-cell">F</div>
                    <div class="table-cell">...</div>
                  </div>
                  <div class="vigenere-column">
                    <div class="column-header">B</div>
                    <div class="column-value">1</div>
                  </div>
                  <div class="table-result highlighted">E</div>
                </div>
                <button class="try-it-btn" data-algo="vigenere" data-text="DEFEND" data-key="BAC">Try it yourself</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Challenge Exercises -->
      <div class="challenge-section">
        <h3>Challenge Exercises</h3>
        <p>Test your skills with these more complex examples!</p>
        
        <div class="challenge-card">
          <h4>Challenge 1: Multi-Layered Encryption</h4>
          <p>Encrypt "SECURE" by first using a Caesar cipher with shift 3, then applying a Vigenère cipher with key "LOCK".</p>
          <button class="solution-toggle">Show Solution</button>
          <div class="solution-content" style="display: none;">
            <p><strong>Step 1:</strong> Caesar cipher with shift 3</p>
            <p>"SECURE" → "VHFXUH"</p>
            <p><strong>Step 2:</strong> Vigenère cipher with key "LOCK"</p>
            <pre>
    V + L(11) = G
    H + O(14) = V
    F + C(2) = H
    X + K(10) = H
    U + L(11) = F
    H + O(14) = V</pre>
            <p><strong>Final result:</strong> "GVHHFV"</p>
          </div>
        </div>
        
        <div class="challenge-card">
          <h4>Challenge 2: Breaking Vigenère</h4>
          <p>You receive the message "WVSHZBCP" encrypted with a Vigenère cipher. You suspect the key is a three-letter word. How would you approach decryption?</p>
          <button class="solution-toggle">Show Solution</button>
          <div class="solution-content" style="display: none;">
            <p><strong>Approach:</strong></p>
            <ol>
              <li>Try common three-letter keys like "THE", "AND", "KEY", etc.</li>
              <li>For each potential key, decrypt and check if the result makes sense</li>
              <li>With key "KEY", the decryption yields "COMPUTER"</li>
            </ol>
            <p><strong>Detailed solution with key "KEY":</strong></p>
            <pre>
    W - K(10) = M
    V - E(4) = R
    S - Y(24) = E
    H - K(10) = X (not right...)
    Z - E(4) = V (not making sense...)
    </pre>
            <p>Let's try "THE":</p>
            <pre>
    W - T(19) = D
    V - H(7) = O
    S - E(4) = O
    H - T(19) = O
    Z - H(7) = S
    B - E(4) = X
    C - T(19) = J
    P - H(7) = I
    </pre>
            <p>Result: "DOOSXJI" (still not making sense)</p>
            <p>After trying several keys, key "CAT" yields "COMPUTER":</p>
            <pre>
    W - C(2) = U
    V - A(0) = V
    S - T(19) = Z (not right...)
    </pre>
            <p>Continued attempts would eventually find key "KEY" to be correct.</p>
          </div>
        </div>
        
        <div class="challenge-card">
          <h4>Challenge 3: XOR File Encryption</h4>
          <p>How would you encrypt a file using XOR with a password? What are the security considerations?</p>
          <button class="solution-toggle">Show Solution</button>
          <div class="solution-content" style="display: none;">
            <p><strong>Approach:</strong></p>
            <ol>
              <li>Convert the password to a byte array</li>
              <li>Repeat the password bytes to match the file length</li>
              <li>XOR each file byte with the corresponding password byte</li>
            </ol>
            <p><strong>Security considerations:</strong></p>
            <ul>
              <li>Password repetition creates patterns that can be exploited</li>
              <li>Short passwords are vulnerable to brute force attacks</li>
              <li>If the same password is used for multiple files, cryptanalysis can reveal the key</li>
              <li>A stronger approach would be to:
                <ul>
                  <li>Use a key derivation function to generate a secure key from the password</li>
                  <li>Use a strong encryption algorithm like AES instead of simple XOR</li>
                  <li>Include a unique initialization vector (IV) for each encryption</li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
      
      <!-- Real-World Applications -->
      <div class="real-world-section">
        <h3>Real-World Applications</h3>
        <div class="application-card">
          <h4>Historical: The Caesar Cipher in Military Communications</h4>
          <p>Julius Caesar used a shift cipher to communicate with his generals. The key was known only to the recipients, making the messages appear as nonsense to interceptors unfamiliar with the system.</p>
        </div>
        
        <div class="application-card">
          <h4>Modern: XOR in Computer Security</h4>
          <p>XOR operations are fundamental in many modern encryption algorithms, including AES. They're also used in:</p>
          <ul>
            <li>Generating secure random numbers</li>
            <li>Obfuscating code</li>
            <li>Creating checksums</li>
          </ul>
        </div>
        
        <div class="application-card">
          <h4>Historical: Vigenère in Wartime</h4>
          <p>The Vigenère cipher was used during the American Civil War by the Confederate States. While it was eventually broken, it provided security for critical communications for some time.</p>
        </div>
      </div>
    
      <!-- History Log -->
      <div class="history" id="history">
        <h3>Your Encryption History</h3>
        <ul id="history-list"></ul>
        <button id="clear-history">Clear History</button>
      </div>
    </section>

    <!-- Quiz Section -->
    <section id="quiz-section">
      <h2>Test Your Knowledge</h2>
      <div id="quiz-container">
        <div id="question-container">
          <p id="question-text">Question will appear here</p>
          <div id="answer-buttons" class="btn-grid">
            <!-- Buttons will be added dynamically -->
          </div>
        </div>
        <div class="controls">
          <button id="next-btn" class="next-btn btn">Next Question</button>
        </div>
        <div id="quiz-results" style="display: none;">
          <h3>Quiz Complete!</h3>
          <p>Your score: <span id="score-display">0</span>/10</p>
        </div>
      </div>
    </section>

    <!-- Leaderboard Section -->
    <section id="leaderboard-section">
      <h2>Encryption Masters Leaderboard</h2>
      <table id="leaderboard-table">
        <thead>
          <tr>
            <th>Rank</th>
            <th>Name</th>
            <th>Score</th>
            <th>Completed</th>
          </tr>
        </thead>
        <tbody id="leaderboard-body">
          <!-- Leaderboard entries will be added here -->
        </tbody>
      </table>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Introduction to Digital Privacy and Data security - TIU  | <a href="#" id="reset-progress">Reset Progress</a></p>
  </footer>

  <script src="js/storage.js"></script>
  <script src="js/caesar.js"></script>
  <script src="js/xor.js"></script>
  <script src="js/vigenere.js"></script>
  <script src="js/quiz.js"></script>
  <script src="js/navigation.js"></script>
  <script src="js/leaderboard.js"></script>
</body>
</html>
